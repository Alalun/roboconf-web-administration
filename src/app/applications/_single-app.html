
<rbcf-menu></rbcf-menu>

<div class="content">
	<h1>
		{{ app.name }}
		<img src="img/spinner.gif" class="spinner" alt="..." ng-show="! invoked" />
	</h1>
	
	<!-- Information Message -->
	<p>
		This page gives details about the <strong>{{ app.name }}</strong> application.
	</p>
	
	<!-- Error message -->
	<rbcf-error-message ng-show="error"></rbcf-error-message>

	<!-- Application Details -->
	<div class="block" id="single-block">
		<p class="block-title">{{ app.name }}</p>

		<div class="block-content">
			<p class="avatar">
				<img src="{{ app.icon ? app.icon : '/img/default-avatar.png' }}" alt="application's icon" ng-class="findAvatar( app )" />
			</p>
			<div class="details">
				<h3>{{ app.name }}</h3>

				<span class="formatted">{{ app.desc }}</span>
				<br /><br />
				<strong>Template Name:</strong> <a href="#/tpl/{{ app.tpl.name }}/{{ app.tpl.qualifier }}/details">{{ app.tpl.name }}</a><br />
				<strong>Template Qualifier:</strong> {{ app.tpl.qualifier }}
			</div>
			<div class="clearfix"></div>

			<div class="single-details">
				<strong>The following links are available:</strong><br />
				<ul>
					<li><a href="#/app/{{ app.name }}/instances">Manage the instances</a></li>
					<li><a href="" ng-click="askToDelete = true">Delete this application</a></li>
				</ul>
				
				<div ng-show="askToDelete">
					Do you really want to delete this application? &nbsp;
					
					<button type="button" class="btn btn-rbcf" ng-click="deleteApplication()">Confirm</button>
					<button type="button" class="btn btn-default" ng-click="askToDelete = false">Cancel</button>
				</div>
				
				<div ng-show="showRestError">
					The application could not be deleted.<br />
					Make sure no instance is deployed in the application to delete it.
				</div>
			</div>
		</div>
	</div>
</div>
