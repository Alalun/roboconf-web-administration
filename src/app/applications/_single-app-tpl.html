
<rbcf-menu></rbcf-menu>

<div class="content">
	<h1>
		{{ app.name }}
		<img src="img/spinner.gif" class="spinner" alt="..." ng-show="! invoked" />
	</h1>
	
	<!-- Information Message -->
	<p>
		This page gives details about the <strong>{{ app.name }}</strong> application template.
	</p>
	
	<!-- Error message -->
	<rbcf-error-message ng-show="error"></rbcf-error-message>

	<!-- Application Details -->
	<div class="block" id="single-block">
		<p class="block-title">{{ app.name }}</p>

		<div class="block-content">
			<p class="avatar">
				<img src="{{ findIcon( app )}}" alt="application template's icon" ng-class="findAvatar( app )" />
			</p>
			<div class="details">
				<h3>{{ app.name }}</h3>
				<strong>Qualifier:</strong> {{ app.qualifier }}
				
				<br /><br />
				<span class="formatted">{{ app.desc }}</span>
			</div>
			<div class="clearfix"></div>
			
			<div class="single-details">
				<strong>Associated applications:</strong>
				<span ng-show="associatedApps.length === 0">none</span>
				
				<br />
				<ul ng-show="associatedApps.length > 0">
					<li><a href="#/app/{{ a.name }}/details" ng-repeat="a in associatedApps">{{ a.name }}</a></li>
				</ul>
			</div>
			
			<div class="single-details">
				<strong>The following links are available:</strong><br />
				<ul>
					<li><a href="" ng-click="askToDelete = true">Delete this application template</a></li>
				</ul>
				
				<div ng-show="askToDelete">
					Do you really want to delete this application template? &nbsp;
					
					<button type="button" class="btn btn-rbcf" ng-click="deleteApplicationTemplate()">Confirm</button>
					<button type="button" class="btn btn-default" ng-click="askToDelete = false">Cancel</button>
				</div>
				
				<div ng-show="showRestError">
					The application template could not be deleted.<br />
					Make sure no application is associated with this template to delete it.
				</div>
			</div>
		</div>
	</div>
</div>
